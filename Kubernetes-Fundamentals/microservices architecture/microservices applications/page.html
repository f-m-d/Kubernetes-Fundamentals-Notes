<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Microservices Applications</title>
</head><body><b><div style="text-align: center"><span style="font-size: 31pt"><span style="color: #0000ff">Microservices Applications</span></span></div></b><br/>
<br/>
<br/>
<br/>
Ora provederemo a comprendere come funziona un architettura<br/>
a Microservizi e come deployarla su Cloud come Google Cloud.<br/>
<br/>
<b>NB: Questa completa app è disponibile su Docker!<br/>
</b><b>Qui si parla di Deploying di Container direttamente per ora!</b><br/>
Prendiamo questo applicativo di esempio:<ul><li>Voting-App è una Web Interface in cui votare</li>
<li>In-memory DB è un DB in memoria (Redis)</li>
<li>Worker è un programma per gestire i voti</li>
<li>Db è un DB per salvare i risultati dei voti</li>
<li>Result-App è una Web Interface per mostrare i risultati dei voti.</li>
</ul>
<img src="1 2.png" /><br/>
<br/>
<br/>
Ora, supponiamo di creare il tutto su un singolo Docker Engine.<br/>
Supponiamo che l'immagini di Docker sono già buildate e tutto.<br/>
Startiamo un instanza detached "-d" di Redis e e PostgreSQL.<br/>
Inoltre, pubblichiamo le instanze delle Web App dalla porta 80 ed esponiamole su porte 5000 e 5001.<br/>
<img src="1.png" width="900" height="403" /><br/>
<br/>
<br/>
Ora tutte le instanze runnano sull'host ma non sono connessi tra di loro!<br/>
<img src="1 3.png" /><br/>
<br/>
Dobbiamo dire, ad ogni instanza, come e a chi collegarsi per ottenere le informazioni giuste.<br/>
Per linkare i container, possiamo usare l'opzione "--link" del comando Docker.<br/>
<br/>
Nella Web App inoltre, dobbiamo indicare l'host con il nome del Container da scegliere<br/>
(nel nostro caso "host=redis", dove "redis" è il nome del container Redis.<br/>
<img src="1 4.png" /><br/>
<br/>
<img src="1 5.png" /><br/>
<br/>
<br/>
<img src="1 6.png" /><br/>
<br/>
<br/>
<b>NB: Probabilmente i --link saranno deprecati, ma è meglio saperlo!</b></body></html>